{"ast":null,"code":"import _slicedToArray from\"/home/oaeiu/todo-app/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditUser(_ref){var currentUserId=_ref.currentUserId,currentUsername=_ref.currentUsername,userList=_ref.userList,setShowEditUser=_ref.setShowEditUser,setCurrentUsername=_ref.setCurrentUsername;var _useState=useState(currentUsername),_useState2=_slicedToArray(_useState,2),editedUsername=_useState2[0],setEditedUsername=_useState2[1];function deleteUser(){if(window.confirm('Are you sure? All Tasks and Tags for this user will be wiped.')){axios.delete(\"/api/users/\".concat(currentUserId)).then(window.location.reload(true)).catch(function(error){return console.log(error);});}}function patchUser(){if(editedUsername.length>30){alert('Please use names between 5 and 30 characters in length');}else if(userList.find(function(user){return user.username===editedUsername;})!==undefined){alert('Name has already been taken');}else{axios.put(\"/api/users/\".concat(currentUserId),{username:editedUsername}).then(setCurrentUsername(editedUsername),setShowEditUser(false)).catch(function(error){return console.log(error);});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"EditUser\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"CloseButton\",onClick:function onClick(){return setShowEditUser(false);},children:\"X\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Edit User:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"EditUserInput\",defaultValue:currentUsername,onChange:function onChange(e){return setEditedUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"SaveButton\",onClick:function onClick(){return patchUser();},children:\"Save\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"SwitchButton\",onClick:function onClick(){return window.location.reload(true);},children:\"Switch User\"}),/*#__PURE__*/_jsx(\"button\",{className:\"DeleteButton\",onClick:function onClick(){return deleteUser();},children:\"Delete User\"})]})]});}export default EditUser;","map":{"version":3,"sources":["/home/oaeiu/todo-app/cvwo-todo-app/todo-react/src/components/EditUser.js"],"names":["axios","useState","EditUser","currentUserId","currentUsername","userList","setShowEditUser","setCurrentUsername","editedUsername","setEditedUsername","deleteUser","window","confirm","delete","then","location","reload","catch","error","console","log","patchUser","length","alert","find","user","username","undefined","put","e","target","value"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,OAAvB,C,wFAEA,QAASC,CAAAA,QAAT,MAAqG,IAAjFC,CAAAA,aAAiF,MAAjFA,aAAiF,CAAlEC,eAAkE,MAAlEA,eAAkE,CAAjDC,QAAiD,MAAjDA,QAAiD,CAAvCC,eAAuC,MAAvCA,eAAuC,CAAtBC,kBAAsB,MAAtBA,kBAAsB,CACnG,cAA4CN,QAAQ,CAACG,eAAD,CAApD,wCAAOI,cAAP,eAAuBC,iBAAvB,eAEA,QAASC,CAAAA,UAAT,EAAsB,CACpB,GAAIC,MAAM,CAACC,OAAP,CAAe,+DAAf,CAAJ,CAAqF,CACnFZ,KAAK,CACFa,MADH,sBACwBV,aADxB,GAEGW,IAFH,CAGIH,MAAM,CAACI,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,CAHJ,EAKGC,KALH,CAKS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EALT,EAMD,CACF,CAED,QAASG,CAAAA,SAAT,EAAqB,CACnB,GAAIb,cAAc,CAACc,MAAf,CAAwB,EAA5B,CAAgC,CAC9BC,KAAK,CAAC,wDAAD,CAAL,CACD,CAFD,IAEO,IAAIlB,QAAQ,CAACmB,IAAT,CAAc,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,QAAL,GAAkBlB,cAA5B,EAAd,IAA8DmB,SAAlE,CAA6E,CAClFJ,KAAK,CAAC,6BAAD,CAAL,CACD,CAFM,IAEA,CACLvB,KAAK,CACF4B,GADH,sBACqBzB,aADrB,EACsC,CAClCuB,QAAQ,CAAElB,cADwB,CADtC,EAIGM,IAJH,CAKIP,kBAAkB,CAACC,cAAD,CALtB,CAMIF,eAAe,CAAC,KAAD,CANnB,EAQGW,KARH,CAQS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EART,EASD,CACF,CAED,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,eACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,yBAAMZ,CAAAA,eAAe,CAAC,KAAD,CAArB,EAFX,eADF,cAME,kCANF,cAOE,oCACE,cACE,SAAS,CAAC,eADZ,CAEE,YAAY,CAAEF,eAFhB,CAGE,QAAQ,CAAE,kBAACyB,CAAD,QAAOpB,CAAAA,iBAAiB,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxB,EAHZ,EADF,cAME,eACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,yBAAMV,CAAAA,SAAS,EAAf,EAFX,kBANF,GAPF,cAmBE,oCACE,eACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,yBAAMV,CAAAA,MAAM,CAACI,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,CAAN,EAFX,yBADF,cAME,eACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,UAAU,EAAhB,EAFX,yBANF,GAnBF,GADF,CAkCD,CAED,cAAeR,CAAAA,QAAf","sourcesContent":["import axios from 'axios'\nimport {useState} from 'react'\n\nfunction EditUser({ currentUserId, currentUsername, userList, setShowEditUser, setCurrentUsername }) {\n  const [editedUsername, setEditedUsername] = useState(currentUsername)\n\n  function deleteUser() {\n    if (window.confirm('Are you sure? All Tasks and Tags for this user will be wiped.')) {\n      axios\n        .delete(`/api/users/${currentUserId}`)\n        .then(\n          window.location.reload(true)\n        )\n        .catch((error) => console.log(error))\n    }\n  }\n\n  function patchUser() {\n    if (editedUsername.length > 30) {\n      alert('Please use names between 5 and 30 characters in length')\n    } else if (userList.find((user) => user.username === editedUsername) !== undefined) {\n      alert('Name has already been taken')\n    } else {\n      axios\n        .put(`/api/users/${currentUserId}`, {\n          username: editedUsername\n        })\n        .then(\n          setCurrentUsername(editedUsername),\n          setShowEditUser(false)\n        )\n        .catch((error) => console.log(error))\n    }\n  }\n\n  return (\n    <div className=\"EditUser\">\n      <button \n        className='CloseButton'\n        onClick={() => setShowEditUser(false)}>\n        X\n      </button>\n      <h3>Edit User:</h3>\n      <div>\n        <input \n          className=\"EditUserInput\"\n          defaultValue={currentUsername}\n          onChange={(e) => setEditedUsername(e.target.value)}>\n        </input>\n        <button \n          className='SaveButton'\n          onClick={() => patchUser()}>\n          Save\n        </button>\n      </div>\n      <div>\n        <button \n          className='SwitchButton'\n          onClick={() => window.location.reload(true)}>\n          Switch User\n        </button>\n        <button \n          className='DeleteButton'\n          onClick={() => deleteUser()}>\n          Delete User\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default EditUser"]},"metadata":{},"sourceType":"module"}