{"ast":null,"code":"import _slicedToArray from\"/home/oaeiu/todo-app/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import EditTask from\"./EditTask\";import TagTask from\"./TagTask\";import Tag from\"./Tag\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Task(_ref){var task=_ref.task,tagList=_ref.tagList,getUserTags=_ref.getUserTags,refreshTaskNew=_ref.refreshTaskNew,refreshDeletedTaskNew=_ref.refreshDeletedTaskNew;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showEditTask=_useState2[0],setShowEditTask=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showTagTask=_useState4[0],setShowTagTask=_useState4[1];function deleteTask(){axios.delete(\"/api/tasks/\".concat(task.id)).then(function(res){refreshDeletedTaskNew(task);}).catch(function(error){return console.log(error);});}function toggleFlagTask(){var newstatus=task.status===\"flagged\"?null:'flagged';axios.put(\"/api/tasks/\".concat(task.id),{status:newstatus}).then(function(res){refreshTaskNew(res.data);}).catch(function(error){return console.log(error);});}function toggleDoneTask(){var newstatus=task.status===\"done\"?null:'done';axios.put(\"/api/tasks/\".concat(task.id),{status:newstatus}).then(function(res){refreshTaskNew(res.data);}).catch(function(error){return console.log(error);});}var className=\"Task\";if(task.status===\"flagged\"){className+=\" Task-flagged\";}if(task.status===\"done\"){className+=\" Task-done\";}return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"Title\",children:[task.title,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"TagsBar\",children:task.tags.map(function(tag,index){return/*#__PURE__*/_jsx(Tag,{tag:tag,task:task,getUserTags:getUserTags,refreshTaskNew:refreshTaskNew},index);})}),/*#__PURE__*/_jsx(\"h3\",{className:\"AddTagToTask\",onClick:function onClick(){return setShowTagTask(!showTagTask);},children:showTagTask?\"-\":\"+\"}),showTagTask&&/*#__PURE__*/_jsx(TagTask,{task:task,tagList:tagList,getUserTags:getUserTags,refreshTaskNew:refreshTaskNew})]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"Deadline\",children:[\"Deadline: \",task.deadline===null?\"None\":task.deadline]}),/*#__PURE__*/_jsx(\"p\",{children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"Buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleDoneTask,children:task.status==='done'?'Undo':'Done'}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleFlagTask,children:task.status==='flagged'?'Unflag':'Flag'}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowEditTask(!showEditTask);},children:showEditTask?'Close':'Edit'}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteTask,children:\"Delete\"})]}),showEditTask&&/*#__PURE__*/_jsx(EditTask,{task:task,setShowEditTask:setShowEditTask,refreshTaskNew:refreshTaskNew,getUserTags:getUserTags})]});}export default Task;","map":{"version":3,"sources":["/home/oaeiu/todo-app/cvwo-todo-app/todo-react/src/components/Task.js"],"names":["axios","useState","EditTask","TagTask","Tag","Task","task","tagList","getUserTags","refreshTaskNew","refreshDeletedTaskNew","showEditTask","setShowEditTask","showTagTask","setShowTagTask","deleteTask","delete","id","then","res","catch","error","console","log","toggleFlagTask","newstatus","status","put","data","toggleDoneTask","className","title","tags","map","tag","index","deadline","description"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport EditTask from \"./EditTask\";\nimport TagTask from \"./TagTask\";\nimport Tag from \"./Tag\"\n\nfunction Task({ task, tagList, getUserTags, refreshTaskNew, refreshDeletedTaskNew }) {\n  const [showEditTask, setShowEditTask] = useState(false)\n  const [showTagTask, setShowTagTask] = useState(false)\n\n  function deleteTask() {\n    axios\n      .delete(`/api/tasks/${task.id}`)\n      .then((res) => {\n        refreshDeletedTaskNew(task)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function toggleFlagTask() {\n    let newstatus = (task.status === \"flagged\")\n               ? null\n               : 'flagged'\n    axios\n      .put(`/api/tasks/${task.id}`, {status: newstatus})\n      .then((res) => {\n        refreshTaskNew(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function toggleDoneTask() {\n    let newstatus = (task.status === \"done\")\n               ? null\n               : 'done'\n    axios\n      .put(`/api/tasks/${task.id}`, {status: newstatus})\n      .then((res) => {\n        refreshTaskNew(res.data)\n      })\n      .catch((error) => console.log(error))    \n  }\n\n  let className=\"Task\"\n  if (task.status === \"flagged\") {\n    className += \" Task-flagged\"\n  }\n  if (task.status === \"done\") {\n    className += \" Task-done\"\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"Header\">\n         <h3 className=\"Title\">{task.title} </h3>\n         <div className=\"TagsBar\">\n            {task.tags.map((tag, index) => {\n             return (\n              <Tag \n                key={index} \n                tag={tag} \n                task={task}\n                getUserTags={getUserTags}\n                refreshTaskNew={refreshTaskNew}/>)\n          })} \n         </div>\n         <h3 className=\"AddTagToTask\" onClick={() => setShowTagTask(!showTagTask)}>{showTagTask ? \"-\" : \"+\"}</h3>\n         {showTagTask && \n          <TagTask \n            task={task} \n            tagList={tagList} \n            getUserTags={getUserTags}\n            refreshTaskNew={refreshTaskNew} />}\n      </div>\n      <h4 className=\"Deadline\">Deadline: {task.deadline === null ? \"None\" : task.deadline}</h4>\n      <p>{task.description}</p>\n      <div className=\"Buttons\">\n        <button onClick = {toggleDoneTask}>\n          {task.status === 'done' ? 'Undo' : 'Done'}\n        </button>\n        <button onClick = {toggleFlagTask}>\n          {task.status === 'flagged' ? 'Unflag' : 'Flag'}\n        </button>\n        <button onClick = {() => setShowEditTask(!showEditTask)}>\n        {showEditTask ? 'Close' : 'Edit'}\n        </button>\n        <button onClick = {deleteTask}>\n        Delete\n        </button>\n      </div>\n      {showEditTask && \n        <EditTask \n          task={task} \n          setShowEditTask={setShowEditTask} \n          refreshTaskNew={refreshTaskNew}\n          getUserTags={getUserTags} />}\n    </div>\n  );\n}\n\nexport default Task"]},"metadata":{},"sourceType":"module"}