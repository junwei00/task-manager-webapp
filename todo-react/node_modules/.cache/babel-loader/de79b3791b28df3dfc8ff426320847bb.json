{"ast":null,"code":"import _slicedToArray from\"/home/oaeiu/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditTask(_ref){var task=_ref.task,refreshTask=_ref.refreshTask,setShowEditTask=_ref.setShowEditTask;var _useState=useState(task.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(task.description),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(task.deadline),_useState6=_slicedToArray(_useState5,2),deadline=_useState6[0],setDeadline=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),formValid=_useState8[0],setFormValid=_useState8[1];var handleSubmit=function handleSubmit(e){patchTask();};function patchTask(){axios.put(\"/api/tasks/\".concat(task.id),{title:title,description:description,deadline:deadline}).then(function(res){refreshTask();setShowEditTask(false);}).catch(function(error){return console.log(error);});}function validateForm(){if(title==''||description==''||deadline==''){setFormValid(false);}else{setFormValid(true);}}return/*#__PURE__*/_jsxs(\"form\",{className:\"EditTask\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(e){validateForm();setTitle(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"Description\",type:\"text\",placeholder:\"Description\",value:description,onChange:function onChange(e){validateForm();setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"Deadline\",value:deadline,onChange:function onChange(e){validateForm();setDeadline(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{disabled:!formValid,className:\"Submit\",type:\"submit\",value:\"Save Task\"})]});}export default EditTask;","map":{"version":3,"sources":["/home/oaeiu/cvwo-todo-app/todo-react/src/components/EditTask.js"],"names":["axios","useState","EditTask","task","refreshTask","setShowEditTask","title","setTitle","description","setDescription","deadline","setDeadline","formValid","setFormValid","handleSubmit","e","patchTask","put","id","then","res","catch","error","console","log","validateForm","target","value"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,QAASC,CAAAA,QAAT,MAA0D,IAAtCC,CAAAA,IAAsC,MAAtCA,IAAsC,CAAhCC,WAAgC,MAAhCA,WAAgC,CAAnBC,eAAmB,MAAnBA,eAAmB,CACxD,cAA0BJ,QAAQ,CAACE,IAAI,CAACG,KAAN,CAAlC,wCAAOA,KAAP,eAAcC,QAAd,eACA,eAAsCN,QAAQ,CAACE,IAAI,CAACK,WAAN,CAA9C,yCAAOA,WAAP,eAAoBC,cAApB,eACA,eAAgCR,QAAQ,CAACE,IAAI,CAACO,QAAN,CAAxC,yCAAOA,QAAP,eAAiBC,WAAjB,eACA,eAAkCV,QAAQ,CAAC,KAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BC,SAAS,GACV,CAFD,CAIA,QAASA,CAAAA,SAAT,EAAqB,CACnBhB,KAAK,CACFiB,GADH,sBACqBd,IAAI,CAACe,EAD1B,EACgC,CAC5BZ,KAAK,CAAEA,KADqB,CAE5BE,WAAW,CAAEA,WAFe,CAG5BE,QAAQ,CAAEA,QAHkB,CADhC,EAMGS,IANH,CAMQ,SAACC,GAAD,CAAS,CACbhB,WAAW,GACXC,eAAe,CAAC,KAAD,CAAf,CACD,CATH,EAUGgB,KAVH,CAUS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAVT,EAWD,CAED,QAASG,CAAAA,YAAT,EAAwB,CACtB,GAAInB,KAAK,EAAI,EAAT,EAAeE,WAAW,EAAI,EAA9B,EAAoCE,QAAQ,EAAI,EAApD,CAAwD,CACtDG,YAAY,CAAC,KAAD,CAAZ,CACD,CAFD,IAEO,CACLA,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CAED,mBACE,cAAM,SAAS,CAAC,UAAhB,CAA2B,QAAQ,CAAEC,YAArC,wBACE,kCACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,OAFd,CAGE,KAAK,CAAER,KAHT,CAIE,QAAQ,CAAE,kBAACS,CAAD,CAAO,CACfU,YAAY,GACZlB,QAAQ,CAACQ,CAAC,CAACW,MAAF,CAASC,KAAV,CAAR,CAAyB,CAN7B,EADF,EADF,cAWE,kCACE,cACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,aAHd,CAIE,KAAK,CAAEnB,WAJT,CAKE,QAAQ,CAAE,kBAACO,CAAD,CAAO,CACfU,YAAY,GACZhB,cAAc,CAACM,CAAC,CAACW,MAAF,CAASC,KAAV,CAAd,CAA+B,CAPnC,EADF,EAXF,cAsBE,kCACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,KAAK,CAAEjB,QAHT,CAIE,QAAQ,CAAE,kBAACK,CAAD,CAAO,CACfU,YAAY,GACZd,WAAW,CAACI,CAAC,CAACW,MAAF,CAASC,KAAV,CAAX,CAA4B,CANhC,EADF,EAtBF,cAgCE,cAAO,QAAQ,CAAE,CAACf,SAAlB,CAA6B,SAAS,CAAC,QAAvC,CAAgD,IAAI,CAAC,QAArD,CAA8D,KAAK,CAAC,WAApE,EAhCF,GADF,CAoCD,CAED,cAAeV,CAAAA,QAAf","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nfunction EditTask({ task, refreshTask, setShowEditTask }) {\n  const [title, setTitle] = useState(task.title)\n  const [description, setDescription] = useState(task.description)\n  const [deadline, setDeadline] = useState(task.deadline)\n  const [formValid, setFormValid] = useState(false)\n\n  const handleSubmit = (e) => {\n    patchTask()\n  }\n\n  function patchTask() {\n    axios\n      .put(`/api/tasks/${task.id}`, {\n        title: title,\n        description: description,\n        deadline: deadline\n      })\n      .then((res) => {\n        refreshTask()\n        setShowEditTask(false)\n      })\n      .catch((error) => console.log(error))\n  }\n  \n  function validateForm() {\n    if (title == '' || description == '' || deadline == '') {\n      setFormValid(false)\n    } else {\n      setFormValid(true)\n    }\n  }\n\n  return (\n    <form className=\"EditTask\" onSubmit={handleSubmit}>\n      <div>\n        <input\n          type='text'\n          placeholder='Title'\n          value={title}\n          onChange={(e) => {\n            validateForm()\n            setTitle(e.target.value)}}\n        />\n      </div>\n      <div>\n        <input\n          className=\"Description\"\n          type='text'\n          placeholder='Description'\n          value={description}\n          onChange={(e) => {\n            validateForm()\n            setDescription(e.target.value)}}\n        />\n      </div>\n      <div>\n        <input\n          type='date'\n          placeholder='Deadline'\n          value={deadline}\n          onChange={(e) => {\n            validateForm()\n            setDeadline(e.target.value)}}\n        />\n      </div>\n      <input disabled={!formValid} className=\"Submit\" type='submit' value='Save Task'/>\n    </form>\n  );\n}\n\nexport default EditTask"]},"metadata":{},"sourceType":"module"}