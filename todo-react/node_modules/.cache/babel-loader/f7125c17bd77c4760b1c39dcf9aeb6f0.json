{"ast":null,"code":"import _slicedToArray from\"/home/oaeiu/todo-app/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Users(_ref){var userList=_ref.userList,setCurrentUserId=_ref.setCurrentUserId,setCurrentUsername=_ref.setCurrentUsername,getUsers=_ref.getUsers;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showNewUser=_useState2[0],setShowNewUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newUsername=_useState4[0],setNewUsername=_useState4[1];function postUser(){axios.post(\"/api/users\",{username:newUsername}).then(function(res){setCurrentUserId(res.data.id);setCurrentUsername(res.data.username);}).catch(function(error){return console.log(error);});}function handleKeyDown(e){if(e.key==='Enter'){if(newUsername.length>30||newUsername.length<5){alert('Please use names between 5 and 30 characters in length');}else if(userList.find(function(user){return user.username===newUsername;})!==undefined){alert('Name has already been taken');}else{postUser();}}}var newUserInput=/*#__PURE__*/_jsx(\"input\",{className:\"NewUserInput\",onChange:function onChange(e){setNewUsername(e.target.value);},onKeyDown:handleKeyDown});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Jun Wei's Todo App\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Users\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select user:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"UserList\",children:userList.map(function(user,index){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setCurrentUserId(user.id);setCurrentUsername(user.username);},children:user.username},index);})}),/*#__PURE__*/_jsx(\"li\",{className:\"NewUserButton\",onClick:function onClick(){return setShowNewUser(!showNewUser);},children:showNewUser?\"Close\":\"+ New User\"}),showNewUser&&newUserInput]})]});}export default Users;","map":{"version":3,"sources":["/home/oaeiu/todo-app/cvwo-todo-app/todo-react/src/components/Users.js"],"names":["axios","useState","Users","userList","setCurrentUserId","setCurrentUsername","getUsers","showNewUser","setShowNewUser","newUsername","setNewUsername","postUser","post","username","then","res","data","id","catch","error","console","log","handleKeyDown","e","key","length","alert","find","user","undefined","newUserInput","target","value","map","index"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,OAAvB,C,wFAEA,QAASC,CAAAA,KAAT,MAA6E,IAA5DC,CAAAA,QAA4D,MAA5DA,QAA4D,CAAlDC,gBAAkD,MAAlDA,gBAAkD,CAAhCC,kBAAgC,MAAhCA,kBAAgC,CAAZC,QAAY,MAAZA,QAAY,CAC3E,cAAsCL,QAAQ,CAAC,KAAD,CAA9C,wCAAOM,WAAP,eAAoBC,cAApB,eACA,eAAsCP,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,WAAP,eAAoBC,cAApB,eAEA,QAASC,CAAAA,QAAT,EAAoB,CAClBX,KAAK,CACFY,IADH,CACQ,YADR,CACsB,CAClBC,QAAQ,CAAEJ,WADQ,CADtB,EAIGK,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbX,gBAAgB,CAACW,GAAG,CAACC,IAAJ,CAASC,EAAV,CAAhB,CACAZ,kBAAkB,CAACU,GAAG,CAACC,IAAJ,CAASH,QAAV,CAAlB,CACD,CAPH,EAQGK,KARH,CAQS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EART,EASD,CAED,QAASG,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACxB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuB,CACrB,GAAIf,WAAW,CAACgB,MAAZ,CAAqB,EAArB,EAA2BhB,WAAW,CAACgB,MAAZ,CAAqB,CAApD,CAAuD,CACrDC,KAAK,CAAC,wDAAD,CAAL,CACD,CAFD,IAEO,IAAIvB,QAAQ,CAACwB,IAAT,CAAc,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACf,QAAL,GAAkBJ,WAA5B,EAAd,IAA2DoB,SAA/D,CAA0E,CAC/EH,KAAK,CAAC,6BAAD,CAAL,CACD,CAFM,IAEA,CACLf,QAAQ,GACT,CACF,CACF,CAED,GAAMmB,CAAAA,YAAY,cAChB,cACE,SAAS,CAAC,cADZ,CAEE,QAAQ,CAAE,kBAACP,CAAD,CAAO,CAACb,cAAc,CAACa,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAd,CAA+B,CAFnD,CAGE,SAAS,CAAEV,aAHb,EADF,CAOA,mBACE,oCACE,0CADF,cAEE,aAAK,SAAS,CAAC,OAAf,wBACE,oCADF,cAEE,YAAK,SAAS,CAAC,UAAf,UAEInB,QAAQ,CAAC8B,GAAT,CAAa,SAACL,IAAD,CAAOM,KAAP,CAAiB,CAC5B,mBACE,WAEE,OAAO,CAAE,kBAAM,CACb9B,gBAAgB,CAACwB,IAAI,CAACX,EAAN,CAAhB,CACAZ,kBAAkB,CAACuB,IAAI,CAACf,QAAN,CAAlB,CAAkC,CAJtC,UAKGe,IAAI,CAACf,QALR,EACOqB,KADP,CADF,CAOS,CARX,CAFJ,EAFF,cAeE,WAAI,SAAS,CAAC,eAAd,CACI,OAAO,CAAE,yBAAM1B,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EADb,UAEGA,WAAW,CAAG,OAAH,CAAa,YAF3B,EAfF,CAmBGA,WAAW,EAAIuB,YAnBlB,GAFF,GADF,CA0BD,CAED,cAAe5B,CAAAA,KAAf","sourcesContent":["import axios from 'axios'\nimport {useState} from 'react'\n\nfunction Users({ userList, setCurrentUserId, setCurrentUsername, getUsers }) {\n  const [showNewUser, setShowNewUser] = useState(false)\n  const [newUsername, setNewUsername] = useState('')\n\n  function postUser() {\n    axios\n      .post(\"/api/users\", {\n        username: newUsername\n      })\n      .then((res) => {\n        setCurrentUserId(res.data.id)\n        setCurrentUsername(res.data.username)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      if (newUsername.length > 30 || newUsername.length < 5) {\n        alert('Please use names between 5 and 30 characters in length')\n      } else if (userList.find((user) => user.username === newUsername) !== undefined) {\n        alert('Name has already been taken')\n      } else {\n        postUser()\n      }\n    }\n  }\n\n  const newUserInput = \n    <input \n      className='NewUserInput' \n      onChange={(e) => {setNewUsername(e.target.value)}}\n      onKeyDown={handleKeyDown}>\n    </input>\n\n  return (\n    <div>\n      <h1>Jun Wei's Todo App</h1>\n      <div className='Users'>\n        <h3>Select user:</h3>\n        <div className='UserList'>\n          {\n            userList.map((user, index) => {\n              return (\n                <li \n                  key={index}\n                  onClick={() => {\n                    setCurrentUserId(user.id)\n                    setCurrentUsername(user.username)}}>\n                  {user.username}\n                </li>)})\n          }\n        </div>\n        <li className='NewUserButton' \n            onClick={() => setShowNewUser(!showNewUser)}>\n          {showNewUser ? \"Close\" : \"+ New User\"}\n        </li>\n        {showNewUser && newUserInput}\n      </div>\n    </div>\n  )\n}\n\nexport default Users"]},"metadata":{},"sourceType":"module"}