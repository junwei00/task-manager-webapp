{"ast":null,"code":"import _toConsumableArray from\"/home/oaeiu/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/oaeiu/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'./App.css';import axios from\"axios\";import Tasks from'./components/Tasks';import Topbar from'./components/Topbar';import Sidebar from'./components/Sidebar';import NewTask from'./components/NewTask';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showNewTask=_useState2[0],setShowNewTask=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),taskList=_useState4[0],setTaskList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredTaskList=_useState6[0],setFilteredTaskList=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tagList=_useState8[0],setTagList=_useState8[1];function getTasks(){axios.get(\"/api/tasks\").then(function(res){setTaskList(res.data);setFilteredTaskList(res.data);}).catch(function(error){return console.log(error);});}function getTasksByTag(id){axios.get(\"/api/tags/\".concat(id,\"/tasks\")).then(function(res){setFilteredTaskList(res.data);}).catch(function(error){return console.log(error);});}function filterTasksByTag(id){var result=[];result=taskList.filter(function(task){var tags=task.tags.map(function(tag){return tag.id;});return tags.includes(id);});setFilteredTaskList(result);}function _getTags(){axios.get(\"/api/tags\").then(function(res){setTagList(res.data);}).catch(function(error){return console.log(error);});}function handleSearch(e){var searchTerm=e.target.value.toLowerCase();var result=[];result=taskList.filter(function(task){return task.title.toLowerCase().search(searchTerm)!=-1;});setFilteredTaskList(result);}function handleSort(e){var sortBy=e.target.value;var result=_toConsumableArray(filteredTaskList);if(sortBy==\"Created\"){result.sort(function(task1,task2){if(task1.created_at>task2.created_at)return-1;if(task2.created_at>task1.created_at)return 1;return 0;});}else if(sortBy==\"Edited\"){result.sort(function(task1,task2){if(task1.updated_at>task2.updated_at)return-1;if(task2.updated_at>task1.updated_at)return 1;return 0;});}else if(sortBy==\"Deadline\"){result.sort(function(task1,task2){if(task1.deadline>task2.deadline)return 1;if(task2.deadline>task1.deadline)return-1;return 0;});}else if(sortBy==\"Alphanumeric\"){result.sort(function(task1,task2){return task1.title.localeCompare(task2.title);});}else{console.log(\"Error: Unknown sorting case\");}setFilteredTaskList(result);}useEffect(function(){getTasks();_getTags();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Sidebar,{tagList:tagList,getTags:_getTags,filterTasksByTag:filterTasksByTag,setFilteredTaskList:setFilteredTaskList,taskList:taskList}),/*#__PURE__*/_jsxs(\"div\",{className:\"Main\",children:[/*#__PURE__*/_jsx(Topbar,{handleSearch:handleSearch,handleSort:handleSort,buttonState:showNewTask,onClickNewTask:function onClickNewTask(){return setShowNewTask(!showNewTask);}}),showNewTask&&/*#__PURE__*/_jsx(NewTask,{setShowNewTask:setShowNewTask,getTasks:getTasks}),/*#__PURE__*/_jsx(Tasks,{setTaskList:setTaskList,setFilteredTaskList:setFilteredTaskList,tagList:tagList,filteredTaskList:filteredTaskList,getTags:function getTags(){return _getTags();}})]})]});}export default App;","map":{"version":3,"sources":["/home/oaeiu/cvwo-todo-app/todo-react/src/App.js"],"names":["useState","useEffect","axios","Tasks","Topbar","Sidebar","NewTask","App","showNewTask","setShowNewTask","taskList","setTaskList","filteredTaskList","setFilteredTaskList","tagList","setTagList","getTasks","get","then","res","data","catch","error","console","log","getTasksByTag","id","filterTasksByTag","result","filter","task","tags","map","tag","includes","getTags","handleSearch","e","searchTerm","target","value","toLowerCase","title","search","handleSort","sortBy","sort","task1","task2","created_at","updated_at","deadline","localeCompare"],"mappings":"4PAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAsCP,QAAQ,CAAC,KAAD,CAA9C,wCAAOQ,WAAP,eAAoBC,cAApB,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAgDX,QAAQ,CAAC,EAAD,CAAxD,yCAAOY,gBAAP,eAAyBC,mBAAzB,eACA,eAA8Bb,QAAQ,CAAC,EAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eAEA,QAASC,CAAAA,QAAT,EAAoB,CAClBd,KAAK,CACFe,GADH,CACO,YADP,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbR,WAAW,CAACQ,GAAG,CAACC,IAAL,CAAX,CACAP,mBAAmB,CAACM,GAAG,CAACC,IAAL,CAAnB,CACD,CALH,EAMGC,KANH,CAMS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EANT,EAOD,CAED,QAASG,CAAAA,aAAT,CAAuBC,EAAvB,CAA2B,CACzBxB,KAAK,CACFe,GADH,qBACoBS,EADpB,YAEGR,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbN,mBAAmB,CAACM,GAAG,CAACC,IAAL,CAAnB,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EALT,EAMD,CAED,QAASK,CAAAA,gBAAT,CAA0BD,EAA1B,CAA8B,CAC5B,GAAIE,CAAAA,MAAM,CAAG,EAAb,CACAA,MAAM,CAAGlB,QAAQ,CAACmB,MAAT,CAAgB,SAACC,IAAD,CAAU,CACjC,GAAIC,CAAAA,IAAI,CAAGD,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,SAACC,GAAD,CAAS,CAAC,MAAOA,CAAAA,GAAG,CAACP,EAAX,CAAc,CAAtC,CAAX,CACA,MAAOK,CAAAA,IAAI,CAACG,QAAL,CAAcR,EAAd,CAAP,CACD,CAHQ,CAAT,CAIAb,mBAAmB,CAACe,MAAD,CAAnB,CACD,CAED,QAASO,CAAAA,QAAT,EAAmB,CACjBjC,KAAK,CACFe,GADH,CACO,WADP,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbJ,UAAU,CAACI,GAAG,CAACC,IAAL,CAAV,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EALT,EAMD,CAED,QAASc,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvB,GAAIC,CAAAA,UAAU,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,WAAf,EAAjB,CACA,GAAIb,CAAAA,MAAM,CAAG,EAAb,CACAA,MAAM,CAAGlB,QAAQ,CAACmB,MAAT,CAAgB,SAACC,IAAD,QACvBA,CAAAA,IAAI,CAACY,KAAL,CAAWD,WAAX,GAAyBE,MAAzB,CAAgCL,UAAhC,GAA+C,CAAC,CADzB,EAAhB,CAAT,CAGAzB,mBAAmB,CAACe,MAAD,CAAnB,CACD,CAED,QAASgB,CAAAA,UAAT,CAAoBP,CAApB,CAAuB,CACrB,GAAIQ,CAAAA,MAAM,CAAGR,CAAC,CAACE,MAAF,CAASC,KAAtB,CACA,GAAIZ,CAAAA,MAAM,oBAAOhB,gBAAP,CAAV,CACA,GAAIiC,MAAM,EAAI,SAAd,CAAyB,CACvBjB,MAAM,CAACkB,IAAP,CAAY,SAACC,KAAD,CAAQC,KAAR,CACV,CAAC,GAAID,KAAK,CAACE,UAAN,CAAmBD,KAAK,CAACC,UAA7B,CAAyC,MAAO,CAAC,CAAR,CACzC,GAAID,KAAK,CAACC,UAAN,CAAmBF,KAAK,CAACE,UAA7B,CAAyC,MAAO,EAAP,CACzC,MAAO,EAAP,CAAS,CAHZ,EAID,CALD,IAKO,IAAIJ,MAAM,EAAI,QAAd,CAAwB,CAC7BjB,MAAM,CAACkB,IAAP,CAAY,SAACC,KAAD,CAAQC,KAAR,CACV,CAAC,GAAID,KAAK,CAACG,UAAN,CAAmBF,KAAK,CAACE,UAA7B,CAAyC,MAAO,CAAC,CAAR,CACzC,GAAIF,KAAK,CAACE,UAAN,CAAmBH,KAAK,CAACG,UAA7B,CAAyC,MAAO,EAAP,CACzC,MAAO,EAAP,CAAS,CAHZ,EAID,CALM,IAKA,IAAIL,MAAM,EAAI,UAAd,CAA0B,CAC/BjB,MAAM,CAACkB,IAAP,CAAY,SAACC,KAAD,CAAQC,KAAR,CACV,CAAC,GAAID,KAAK,CAACI,QAAN,CAAiBH,KAAK,CAACG,QAA3B,CAAqC,MAAO,EAAP,CACrC,GAAIH,KAAK,CAACG,QAAN,CAAiBJ,KAAK,CAACI,QAA3B,CAAqC,MAAO,CAAC,CAAR,CACrC,MAAO,EAAP,CAAS,CAHZ,EAID,CALM,IAKA,IAAIN,MAAM,EAAI,cAAd,CAA8B,CACnCjB,MAAM,CAACkB,IAAP,CAAY,SAACC,KAAD,CAAQC,KAAR,QACVD,CAAAA,KAAK,CAACL,KAAN,CAAYU,aAAZ,CAA0BJ,KAAK,CAACN,KAAhC,CADU,EAAZ,EAED,CAHM,IAGA,CACLnB,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACD,CACDX,mBAAmB,CAACe,MAAD,CAAnB,CACD,CAED3B,SAAS,CAAC,UAAM,CACde,QAAQ,GACRmB,QAAO,GACR,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,OAAD,EAAS,OAAO,CAAErB,OAAlB,CAA2B,OAAO,CAAEqB,QAApC,CAA6C,gBAAgB,CAAER,gBAA/D,CACE,mBAAmB,CAAEd,mBADvB,CAC4C,QAAQ,CAAEH,QADtD,EADF,cAGE,aAAK,SAAS,CAAC,MAAf,wBACE,KAAC,MAAD,EAAQ,YAAY,CAAE0B,YAAtB,CAAoC,UAAU,CAAEQ,UAAhD,CACE,WAAW,CAAEpC,WADf,CAC4B,cAAc,CAAE,gCAAMC,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EAD5C,EADF,CAGGA,WAAW,eAAI,KAAC,OAAD,EAAS,cAAc,CAAEC,cAAzB,CAAyC,QAAQ,CAAEO,QAAnD,EAHlB,cAIE,KAAC,KAAD,EAAO,WAAW,CAAEL,WAApB,CAAiC,mBAAmB,CAAEE,mBAAtD,CACE,OAAO,CAAEC,OADX,CACoB,gBAAgB,CAAEF,gBADtC,CACwD,OAAO,CAAE,yBAAMuB,CAAAA,QAAO,EAAb,EADjE,EAJF,GAHF,GADF,CAaD,CAED,cAAe5B,CAAAA,GAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport './App.css'\nimport axios from \"axios\"\nimport Tasks from './components/Tasks'\nimport Topbar from './components/Topbar'\nimport Sidebar from './components/Sidebar'\nimport NewTask from './components/NewTask'\n\nfunction App() {\n  const [showNewTask, setShowNewTask] = useState(false)\n  const [taskList, setTaskList] = useState([])\n  const [filteredTaskList, setFilteredTaskList] = useState([])\n  const [tagList, setTagList] = useState([])\n\n  function getTasks() {\n    axios\n      .get(\"/api/tasks\")\n      .then((res) => {\n        setTaskList(res.data)\n        setFilteredTaskList(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function getTasksByTag(id) {\n    axios\n      .get(`/api/tags/${id}/tasks`)\n      .then((res) => {\n        setFilteredTaskList(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function filterTasksByTag(id) {\n    let result = []\n    result = taskList.filter((task) => {\n      let tags = task.tags.map((tag) => {return tag.id})\n      return tags.includes(id)\n    })\n    setFilteredTaskList(result)\n  }\n\n  function getTags() {\n    axios\n      .get(\"/api/tags\")\n      .then((res) => {\n        setTagList(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function handleSearch(e) {\n    let searchTerm = e.target.value.toLowerCase()\n    let result = []\n    result = taskList.filter((task) =>\n      task.title.toLowerCase().search(searchTerm) != -1\n    )\n    setFilteredTaskList(result)\n  }\n\n  function handleSort(e) {\n    let sortBy = e.target.value\n    let result = [...filteredTaskList]\n    if (sortBy == \"Created\") {\n      result.sort((task1, task2) => \n        {if (task1.created_at > task2.created_at) return -1\n         if (task2.created_at > task1.created_at) return 1\n         return 0})\n    } else if (sortBy == \"Edited\") {\n      result.sort((task1, task2) => \n        {if (task1.updated_at > task2.updated_at) return -1\n         if (task2.updated_at > task1.updated_at) return 1\n         return 0})\n    } else if (sortBy == \"Deadline\") {\n      result.sort((task1, task2) => \n        {if (task1.deadline > task2.deadline) return 1\n         if (task2.deadline > task1.deadline) return -1\n         return 0})\n    } else if (sortBy == \"Alphanumeric\") {\n      result.sort((task1, task2) => \n        task1.title.localeCompare(task2.title))\n    } else {\n      console.log(\"Error: Unknown sorting case\")\n    }\n    setFilteredTaskList(result)\n  }\n\n  useEffect(() => {\n    getTasks()\n    getTags()\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Sidebar tagList={tagList} getTags={getTags} filterTasksByTag={filterTasksByTag}\n        setFilteredTaskList={setFilteredTaskList} taskList={taskList}/>\n      <div className='Main'>\n        <Topbar handleSearch={handleSearch} handleSort={handleSort} \n          buttonState={showNewTask} onClickNewTask={() => setShowNewTask(!showNewTask)} />\n        {showNewTask && <NewTask setShowNewTask={setShowNewTask} getTasks={getTasks}/> }\n        <Tasks setTaskList={setTaskList} setFilteredTaskList={setFilteredTaskList} \n          tagList={tagList} filteredTaskList={filteredTaskList} getTags={() => getTags()}/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}