{"ast":null,"code":"import _toConsumableArray from\"/home/oaeiu/todo-app/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/oaeiu/todo-app/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'./App.css';import axios from\"axios\";import Tasks from'./components/Tasks';import Topbar from'./components/Topbar';import Sidebar from'./components/Sidebar';import NewTask from'./components/NewTask';import Users from'./components/Users';import EditUser from'./components/EditUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showNewTask=_useState2[0],setShowNewTask=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),taskList=_useState4[0],setTaskList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),taggedTaskList=_useState6[0],setTaggedTaskList=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),filteredTaskList=_useState8[0],setFilteredTaskList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tagList=_useState10[0],setTagList=_useState10[1];var _useState11=useState('Created'),_useState12=_slicedToArray(_useState11,2),currentSort=_useState12[0],setCurrentSort=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),userList=_useState14[0],setUserList=_useState14[1];var _useState15=useState(-1),_useState16=_slicedToArray(_useState15,2),currentUserId=_useState16[0],setCurrentUserId=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),currentUsername=_useState18[0],setCurrentUsername=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),showEditUser=_useState20[0],setShowEditUser=_useState20[1];function getUserTasks(){axios.get(\"/api/\".concat(currentUserId,\"/tasks\")).then(function(res){setTaskList(res.data);setTaggedTaskList(res.data);setFilteredTaskList(res.data);}).catch(function(error){return console.log(error);});}function _getUserTags(){axios.get(\"/api/\".concat(currentUserId,\"/tags\")).then(function(res){setTagList(res.data);}).catch(function(error){return console.log(error);});}function getUsers(){axios.get(\"/api/users\").then(function(res){setUserList(res.data);}).catch(function(error){return console.log(error);});}function filterTasksByTag(id){var result=taskList.filter(function(task){var tags=task.tags.map(function(tag){return tag.id;});return tags.includes(id);});result=sortTasks('Current',result);setTaggedTaskList(result);setFilteredTaskList(result);}function resetTagFilter(){var resetList=sortTasks('Current',taskList);setTaggedTaskList(resetList);setFilteredTaskList(resetList);}function handleSearch(e){var searchTerm=e.target.value.toLowerCase();var result=[];result=taggedTaskList.filter(function(task){return task.title.toLowerCase().search(searchTerm)!=-1;});setFilteredTaskList(result);}function handleSort(sortBy){setFilteredTaskList(sortTasks(sortBy,filteredTaskList));}function sortTasks(sortBy,list){if(sortBy==='Current'){sortBy=currentSort;}else{setCurrentSort(sortBy);}var result=_toConsumableArray(list);if(sortBy==\"Created\"){result.sort(function(task1,task2){if(task1.created_at>task2.created_at)return-1;if(task2.created_at>task1.created_at)return 1;return 0;});}else if(sortBy==\"Edited\"){result.sort(function(task1,task2){if(task1.updated_at>task2.updated_at)return-1;if(task2.updated_at>task1.updated_at)return 1;return 0;});}else if(sortBy==\"Deadline\"){result.sort(function(task1,task2){if(task1.deadline===null)return 1;if(task2.deadline===null)return-1;if(task1.deadline>task2.deadline)return 1;if(task2.deadline>task1.deadline)return-1;return 0;});}else if(sortBy==\"Alphanumeric\"){result.sort(function(task1,task2){return task1.title.localeCompare(task2.title);});}else{console.log(\"Error: Unknown sorting case:\"+sortBy);}return result;}function refreshTask(updatedTask){function newList(oldList){return oldList.map(function(task){return task.id===updatedTask.id?updatedTask:task;});}setFilteredTaskList(newList(filteredTaskList));setTaggedTaskList(newList(taggedTaskList));setTaskList(newList(taskList));}function refreshDeletedTask(deletedTask){function newList(oldList){return oldList.filter(function(task){return task.id!==deletedTask.id;});}setFilteredTaskList(newList(filteredTaskList));setTaggedTaskList(newList(taggedTaskList));setTaskList(newList(taskList));}var mainPage=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Sidebar,{currentUserId:currentUserId,currentUsername:currentUsername,tagList:tagList,getUserTags:_getUserTags,filterTasksByTag:filterTasksByTag,resetTagFilter:resetTagFilter,taskList:taskList,setShowEditUser:setShowEditUser}),/*#__PURE__*/_jsxs(\"div\",{className:\"Main\",children:[/*#__PURE__*/_jsx(Topbar,{handleSearch:handleSearch,handleSort:handleSort,buttonState:showNewTask,onClickNewTask:function onClickNewTask(){return setShowNewTask(!showNewTask);}}),showNewTask&&/*#__PURE__*/_jsx(NewTask,{currentUserId:currentUserId,setShowNewTask:setShowNewTask,getUserTasks:getUserTasks}),/*#__PURE__*/_jsx(Tasks,{tagList:tagList,filteredTaskList:filteredTaskList,getUserTags:function getUserTags(){return _getUserTags();},refreshTask:refreshTask,refreshDeletedTask:refreshDeletedTask})]})]});useEffect(function(){getUsers();if(currentUserId!==-1){getUserTasks();_getUserTags();}},[currentUserId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[currentUserId===-1?/*#__PURE__*/_jsx(Users,{userList:userList,setCurrentUserId:setCurrentUserId,setCurrentUsername:setCurrentUsername,getUsers:getUsers}):mainPage,showEditUser&&/*#__PURE__*/_jsx(EditUser,{currentUserId:currentUserId,currentUsername:currentUsername,userList:userList,setCurrentUsername:setCurrentUsername,setShowEditUser:setShowEditUser})]});}export default App;","map":{"version":3,"sources":["/home/oaeiu/todo-app/cvwo-todo-app/todo-react/src/App.js"],"names":["useState","useEffect","axios","Tasks","Topbar","Sidebar","NewTask","Users","EditUser","App","showNewTask","setShowNewTask","taskList","setTaskList","taggedTaskList","setTaggedTaskList","filteredTaskList","setFilteredTaskList","tagList","setTagList","currentSort","setCurrentSort","userList","setUserList","currentUserId","setCurrentUserId","currentUsername","setCurrentUsername","showEditUser","setShowEditUser","getUserTasks","get","then","res","data","catch","error","console","log","getUserTags","getUsers","filterTasksByTag","id","result","filter","task","tags","map","tag","includes","sortTasks","resetTagFilter","resetList","handleSearch","e","searchTerm","target","value","toLowerCase","title","search","handleSort","sortBy","list","sort","task1","task2","created_at","updated_at","deadline","localeCompare","refreshTask","updatedTask","newList","oldList","refreshDeletedTask","deletedTask","mainPage"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport './App.css'\nimport axios from \"axios\"\nimport Tasks from './components/Tasks'\nimport Topbar from './components/Topbar'\nimport Sidebar from './components/Sidebar'\nimport NewTask from './components/NewTask'\nimport Users from './components/Users'\nimport EditUser from './components/EditUser'\n\nfunction App() {\n  const [showNewTask, setShowNewTask] = useState(false)\n  const [taskList, setTaskList] = useState([])\n  const [taggedTaskList, setTaggedTaskList] = useState([])\n  const [filteredTaskList, setFilteredTaskList] = useState([])\n  const [tagList, setTagList] = useState([])\n  const [currentSort, setCurrentSort] = useState('Created')\n  const [userList, setUserList] = useState([])\n  const [currentUserId, setCurrentUserId] = useState(-1)\n  const [currentUsername, setCurrentUsername] = useState('')\n  const [showEditUser, setShowEditUser] = useState(false)\n\n  function getUserTasks() {\n    axios\n      .get(`/api/${currentUserId}/tasks`)\n      .then((res) => {\n        setTaskList(res.data)\n        setTaggedTaskList(res.data)\n        setFilteredTaskList(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function getUserTags() {\n    axios\n      .get(`/api/${currentUserId}/tags`)\n      .then((res) => {\n        setTagList(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function getUsers() {\n    axios\n      .get(\"/api/users\")\n      .then((res) => {\n        setUserList(res.data)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function filterTasksByTag(id) {\n    let result = taskList.filter((task) => {\n      let tags = task.tags.map((tag) => {return tag.id})\n      return tags.includes(id)\n    })\n    result = sortTasks('Current', result)\n    setTaggedTaskList(result)\n    setFilteredTaskList(result)\n  }\n\n  function resetTagFilter() {\n    const resetList = sortTasks('Current', taskList);\n    setTaggedTaskList(resetList)\n    setFilteredTaskList(resetList)\n  }\n\n  function handleSearch(e) {\n    let searchTerm = e.target.value.toLowerCase()\n    let result = []\n    result = taggedTaskList.filter((task) =>\n      task.title.toLowerCase().search(searchTerm) != -1\n    )\n    setFilteredTaskList(result)\n  }\n\n  function handleSort(sortBy) {\n    setFilteredTaskList(sortTasks(sortBy, filteredTaskList))\n  }\n\n  function sortTasks(sortBy, list) {\n    if (sortBy === 'Current') {\n      sortBy = currentSort\n    } else {\n      setCurrentSort(sortBy)\n    }\n    let result = [...list]\n    if (sortBy == \"Created\") {\n      result.sort((task1, task2) => \n        {if (task1.created_at > task2.created_at) return -1\n         if (task2.created_at > task1.created_at) return 1\n         return 0})\n    } else if (sortBy == \"Edited\") {\n      result.sort((task1, task2) => \n        {if (task1.updated_at > task2.updated_at) return -1\n         if (task2.updated_at > task1.updated_at) return 1\n         return 0})\n    } else if (sortBy == \"Deadline\") {\n      result.sort((task1, task2) => \n        {if (task1.deadline === null) return 1\n         if (task2.deadline === null) return -1\n         if (task1.deadline > task2.deadline) return 1\n         if (task2.deadline > task1.deadline) return -1\n         return 0})\n    } else if (sortBy == \"Alphanumeric\") {\n      result.sort((task1, task2) => \n        task1.title.localeCompare(task2.title))\n    } else {\n      console.log(\"Error: Unknown sorting case:\" + sortBy)\n    }\n    return result\n  }\n\n  function refreshTask(updatedTask) {\n    function newList(oldList) {\n      return oldList.map((task) => {\n        return (\n          (task.id === updatedTask.id)\n          ? updatedTask\n          : task)})\n    }\n    setFilteredTaskList(newList(filteredTaskList))\n    setTaggedTaskList(newList(taggedTaskList))\n    setTaskList(newList(taskList))\n  }\n\n  function refreshDeletedTask(deletedTask) {\n    function newList(oldList) {\n      return oldList.filter((task) => {\n        return (task.id !== deletedTask.id)})\n    }\n    setFilteredTaskList(newList(filteredTaskList))\n    setTaggedTaskList(newList(taggedTaskList))\n    setTaskList(newList(taskList))\n  }\n\n  const mainPage = \n    <div>\n      <Sidebar \n        currentUserId={currentUserId}\n        currentUsername={currentUsername} \n        tagList={tagList} \n        getUserTags={getUserTags} \n        filterTasksByTag={filterTasksByTag}\n        resetTagFilter={resetTagFilter}\n        taskList={taskList} \n        setShowEditUser={setShowEditUser}/>\n      <div className='Main'>\n        <Topbar \n          handleSearch={handleSearch} \n          handleSort={handleSort}\n          buttonState={showNewTask} \n          onClickNewTask={() => setShowNewTask(!showNewTask)} />\n        {showNewTask && \n          <NewTask \n            currentUserId={currentUserId}\n            setShowNewTask={setShowNewTask} \n            getUserTasks={getUserTasks} />}\n        <Tasks \n          tagList={tagList} \n          filteredTaskList={filteredTaskList} \n          getUserTags={() => getUserTags()}\n          refreshTask={refreshTask} \n          refreshDeletedTask={refreshDeletedTask} />\n      </div>\n    </div>\n\n  useEffect(() => {\n    getUsers()\n    if (currentUserId !== -1) {\n      getUserTasks()\n      getUserTags()\n    }\n  }, [currentUserId])\n\n  return (\n    <div className=\"App\">\n      {\n        (currentUserId === -1)\n        ? <Users \n            userList={userList} \n            setCurrentUserId={setCurrentUserId}\n            setCurrentUsername={setCurrentUsername}\n            getUsers={getUsers}/>\n        : mainPage\n      }\n      {\n        (showEditUser)\n        && <EditUser \n              currentUserId={currentUserId}\n              currentUsername={currentUsername}\n              userList={userList}\n              setCurrentUsername={setCurrentUsername}\n              setShowEditUser={setShowEditUser}/>\n      }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}