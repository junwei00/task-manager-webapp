{"ast":null,"code":"import _slicedToArray from\"/home/oaeiu/todo-app/cvwo-todo-app/todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditTask(_ref){var task=_ref.task,refreshTaskNew=_ref.refreshTaskNew,setShowEditTask=_ref.setShowEditTask;var _useState=useState(task.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(task.description),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(task.deadline),_useState6=_slicedToArray(_useState5,2),deadline=_useState6[0],setDeadline=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),formValid=_useState8[0],setFormValid=_useState8[1];function handleSubmit(e){if(title.length>50||description.length>500){alert('Please keep the title below 50 characters and the description below 500 characters');}else{e.preventDefault();patchTask();}}function patchTask(){axios.put(\"/api/tasks/\".concat(task.id),{title:title,description:description,deadline:deadline}).then(function(res){refreshTaskNew(res.data);setShowEditTask(false);}).catch(function(error){return console.log(error);});}function validateForm(){if(title.length===0){setFormValid(false);}else{setFormValid(true);}}return/*#__PURE__*/_jsxs(\"form\",{className:\"EditTask\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Task:\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(e){validateForm();setTitle(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{className:\"Description\",type:\"text\",placeholder:\"Description\",value:description,onChange:function onChange(e){validateForm();setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"Deadline\",value:deadline===null?'':deadline,onChange:function onChange(e){validateForm();setDeadline(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{disabled:!formValid,className:\"Submit\",type:\"submit\",value:\"Save Task\"})]});}export default EditTask;","map":{"version":3,"sources":["/home/oaeiu/todo-app/cvwo-todo-app/todo-react/src/components/EditTask.js"],"names":["axios","useState","EditTask","task","refreshTaskNew","setShowEditTask","title","setTitle","description","setDescription","deadline","setDeadline","formValid","setFormValid","handleSubmit","e","length","alert","preventDefault","patchTask","put","id","then","res","data","catch","error","console","log","validateForm","target","value"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,QAASC,CAAAA,QAAT,MAA6D,IAAzCC,CAAAA,IAAyC,MAAzCA,IAAyC,CAAnCC,cAAmC,MAAnCA,cAAmC,CAAnBC,eAAmB,MAAnBA,eAAmB,CAC3D,cAA0BJ,QAAQ,CAACE,IAAI,CAACG,KAAN,CAAlC,wCAAOA,KAAP,eAAcC,QAAd,eACA,eAAsCN,QAAQ,CAACE,IAAI,CAACK,WAAN,CAA9C,yCAAOA,WAAP,eAAoBC,cAApB,eACA,eAAgCR,QAAQ,CAACE,IAAI,CAACO,QAAN,CAAxC,yCAAOA,QAAP,eAAiBC,WAAjB,eACA,eAAkCV,QAAQ,CAAC,KAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,QAASC,CAAAA,YAAT,CAAuBC,CAAvB,CAA0B,CACxB,GAAIT,KAAK,CAACU,MAAN,CAAe,EAAf,EAAqBR,WAAW,CAACQ,MAAZ,CAAqB,GAA9C,CAAmD,CACjDC,KAAK,CAAC,oFAAD,CAAL,CACD,CAFD,IAEO,CACLF,CAAC,CAACG,cAAF,GACAC,SAAS,GACV,CACF,CAED,QAASA,CAAAA,SAAT,EAAqB,CACnBnB,KAAK,CACFoB,GADH,sBACqBjB,IAAI,CAACkB,EAD1B,EACgC,CAC5Bf,KAAK,CAAEA,KADqB,CAE5BE,WAAW,CAAEA,WAFe,CAG5BE,QAAQ,CAAEA,QAHkB,CADhC,EAMGY,IANH,CAMQ,SAACC,GAAD,CAAS,CACbnB,cAAc,CAACmB,GAAG,CAACC,IAAL,CAAd,CACAnB,eAAe,CAAC,KAAD,CAAf,CACD,CATH,EAUGoB,KAVH,CAUS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAVT,EAWD,CAED,QAASG,CAAAA,YAAT,EAAwB,CACtB,GAAIvB,KAAK,CAACU,MAAN,GAAiB,CAArB,CAAwB,CACtBH,YAAY,CAAC,KAAD,CAAZ,CACD,CAFD,IAEO,CACLA,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CAED,mBACE,cAAM,SAAS,CAAC,UAAhB,CAA2B,QAAQ,CAAEC,YAArC,wBACE,kCADF,cAEE,kCACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,OAFd,CAGE,KAAK,CAAER,KAHT,CAIE,QAAQ,CAAE,kBAACS,CAAD,CAAO,CACfc,YAAY,GACZtB,QAAQ,CAACQ,CAAC,CAACe,MAAF,CAASC,KAAV,CAAR,CAAyB,CAN7B,EADF,EAFF,cAYE,kCACE,iBACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,aAHd,CAIE,KAAK,CAAEvB,WAJT,CAKE,QAAQ,CAAE,kBAACO,CAAD,CAAO,CACfc,YAAY,GACZpB,cAAc,CAACM,CAAC,CAACe,MAAF,CAASC,KAAV,CAAd,CAA+B,CAPnC,EADF,EAZF,cAuBE,kCACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,KAAK,CAAErB,QAAQ,GAAK,IAAb,CAAoB,EAApB,CAAyBA,QAHlC,CAIE,QAAQ,CAAE,kBAACK,CAAD,CAAO,CACfc,YAAY,GACZlB,WAAW,CAACI,CAAC,CAACe,MAAF,CAASC,KAAV,CAAX,CAA4B,CANhC,EADF,EAvBF,cAiCE,cAAO,QAAQ,CAAE,CAACnB,SAAlB,CAA6B,SAAS,CAAC,QAAvC,CAAgD,IAAI,CAAC,QAArD,CAA8D,KAAK,CAAC,WAApE,EAjCF,GADF,CAqCD,CAED,cAAeV,CAAAA,QAAf","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nfunction EditTask({ task, refreshTaskNew, setShowEditTask }) {\n  const [title, setTitle] = useState(task.title)\n  const [description, setDescription] = useState(task.description)\n  const [deadline, setDeadline] = useState(task.deadline)\n  const [formValid, setFormValid] = useState(false)\n\n  function handleSubmit (e) {\n    if (title.length > 50 || description.length > 500) {\n      alert('Please keep the title below 50 characters and the description below 500 characters')\n    } else {\n      e.preventDefault()\n      patchTask()\n    }\n  }\n\n  function patchTask() {\n    axios\n      .put(`/api/tasks/${task.id}`, {\n        title: title,\n        description: description,\n        deadline: deadline\n      })\n      .then((res) => {\n        refreshTaskNew(res.data)\n        setShowEditTask(false)\n      })\n      .catch((error) => console.log(error))\n  }\n  \n  function validateForm() {\n    if (title.length === 0) {\n      setFormValid(false)\n    } else {\n      setFormValid(true)\n    }\n  }\n\n  return (\n    <form className=\"EditTask\" onSubmit={handleSubmit}>\n      <h3>Edit Task:</h3>\n      <div>\n        <input\n          type='text'\n          placeholder='Title'\n          value={title}\n          onChange={(e) => {\n            validateForm()\n            setTitle(e.target.value)}}\n        />\n      </div>\n      <div>\n        <textarea\n          className=\"Description\"\n          type='text'\n          placeholder='Description'\n          value={description}\n          onChange={(e) => {\n            validateForm()\n            setDescription(e.target.value)}}\n        />\n      </div>\n      <div>\n        <input\n          type='date'\n          placeholder='Deadline'\n          value={deadline === null ? '' : deadline}\n          onChange={(e) => {\n            validateForm()\n            setDeadline(e.target.value)}}\n        />\n      </div>\n      <input disabled={!formValid} className=\"Submit\" type='submit' value='Save Task'/>\n    </form>\n  );\n}\n\nexport default EditTask"]},"metadata":{},"sourceType":"module"}